window.repositoryObject = {"parameters":[],"parameters_custom_fields":[],"dependencies":{"uses":[],"used_by":[]},"object_id":"p41","name":"v1_Status_At_Corretion","subtype":"PROCEDURE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"Cleverads","id":"d6"}},{"field":"Name","value":"v1_Status_At_Corretion"},{"field":"Type","value":"Procedure"}],"script":"BEGIN\r\nDECLARE v_status_at DATETIME;\r\nDECLARE v_id INTEGER;\r\nDECLARE finished INTEGER DEFAULT 0;\r\n\r\n\t\r\n\tDECLARE c_ld \r\n\t\tCURSOR FOR \r\n\t\t\tSELECT id,status_at\r\n\t\t\t FROM migration_statuses_to_correct;\r\n\r\n\t\r\n\tDECLARE CONTINUE HANDLER \r\n        FOR NOT FOUND SET finished = 1;\r\n        \r\n\r\nOPEN c_ld;\r\nB: LOOP\r\n\tFETCH c_ld INTO  v_id,v_status_at;\r\n\t\tIF finished = 1 THEN \r\n\t\t\tLEAVE B;\r\n\t\tEND IF;\r\n\t\tUPDATE leads_statuses_logs\r\n\t\tSET status_at=v_status_at\r\n\t\tWHERE id = v_id;\r\n\tEND LOOP B;\r\nEND","imported_at":"2024-06-28 17:00"};