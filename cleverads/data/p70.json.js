window.repositoryObject = {"parameters":[{"name":"p_text_to_search","description":null,"mode":"IN","data_type":"varchar(50)","custom_fields":{},"linked_terms":[]},{"name":"p_data_base","description":null,"mode":"IN","data_type":"varchar(50)","custom_fields":{},"linked_terms":[]}],"parameters_custom_fields":[],"dependencies":{"uses":[],"used_by":[]},"object_id":"p70","name":"sp_find_text","subtype":"PROCEDURE","is_user_defined":false,"description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n                <html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n                    <head>\r\n                        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n                        </title>\r\n                        <style type=\"text/css\">\r\n                            .cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n                            .cs416E45A4{color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:10pt;font-weight:normal;font-style:normal;}\r\n                        </style>\r\n                    </head>\r\n                    <body>\r\n                        <p class=\"cs2654AE3A\"><span class=\"cs416E45A4\">List of objects that have certain text</span></p></body>\r\n                </html>","summary":[{"field":"Documentation","value":{"_type":"link","name":"Cleverads","id":"d6"}},{"field":"Name","value":"sp_find_text"},{"field":"Type","value":"Procedure"}],"script":"BEGIN\r\n-- Get the schema name, table name, and table type for:\r\nDECLARE v_text VARCHAR(50);\r\nSET v_text = CONCAT('%',p_text_to_search,'%');\r\n-- Table/View names\r\nSELECT\r\n\t TABLE_SCHEMA  \tAS 'Object Schema'\r\n\t,TABLE_NAME\t\tAS 'Object Name'\r\n\t,TABLE_TYPE\t\tAS 'Object Type'\r\n\t,'' \t\t\tAS 'TEXT Location'\r\nFROM  INFORMATION_SCHEMA.TABLES\r\nWHERE TABLE_NAME  LIKE v_text\r\nAND TABLE_SCHEMA = COALESCE(p_data_base,TABLE_SCHEMA)\r\nUNION\r\n -- Column names\r\nSELECT\r\n\t TABLE_SCHEMA   AS 'Object Schema'\r\n   ,TABLE_NAME   AS 'Object Name'\r\n   ,'COLUMN'      AS 'Object Type'\r\n   ,COLUMN_NAME AS 'TEXT Location'\r\nFROM  INFORMATION_SCHEMA.COLUMNS\r\nWHERE COLUMN_NAME  LIKE  v_text\r\nAND TABLE_SCHEMA = COALESCE(p_data_base,TABLE_SCHEMA)\r\nUNION\r\n-- Function or procedure bodies\r\nSELECT \r\n\t ROUTINE_SCHEMA \tAS 'Object Schema'\r\n\t,ROUTINE_NAME       AS 'Object Name'\r\n\t,ROUTINE_TYPE       AS 'Object Type'\r\n\t,ROUTINE_DEFINITION AS 'TEXT Location'\r\nFROM  INFORMATION_SCHEMA.ROUTINES  \r\nWHERE ROUTINE_DEFINITION  LIKE v_text\r\n AND ROUTINE_SCHEMA = COALESCE(p_data_base,ROUTINE_SCHEMA)\r\nUNION\r\n-- view bodies\r\nSELECT TABLE_SCHEMA \tAS 'Object Schema'\r\n\t,TABLE_NAME       AS 'Object Name'\r\n\t,'VIEW_DDL'       AS 'Object Type'\r\n\t,VIEW_DEFINITION AS 'TEXT Location'\r\nFROM information_schema.VIEWS\r\nWHERE VIEW_DEFINITION  LIKE v_text\r\nAND TABLE_SCHEMA = COALESCE(p_data_base,TABLE_SCHEMA)\r\nUNION\r\n-- trigger bodies\r\nSELECT TRIGGER_SCHEMA \tAS 'Object Schema'\r\n\t,TRIGGER_NAME       AS 'Object Name'\r\n\t,'TRIGGER'       AS 'Object Type'\r\n\t,ACTION_STATEMENT AS 'TEXT Location'\r\nFROM INFORMATION_SCHEMA.`TRIGGERS`\r\nWHERE ACTION_STATEMENT  LIKE v_text\r\nAND TRIGGER_SCHEMA = COALESCE(p_data_base,TRIGGER_SCHEMA);\r\nEND","imported_at":"2024-06-28 17:00"};