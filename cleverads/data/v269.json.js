window.repositoryObject = {"columns_custom_fields":[],"relations_custom_fields":[],"triggers_custom_fields":[],"columns":[{"id":"column-2778","object_id":"column-2778","name":"supplier_payment_request_id","name_without_path":"supplier_payment_request_id","description":null,"is_pk":false,"is_identity":false,"data_type":"int","data_length":"10, 0","is_nullable":false,"computed_formula":"","default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-2779","object_id":"column-2779","name":"payment_at","name_without_path":"payment_at","description":null,"is_pk":false,"is_identity":false,"data_type":"timestamp","data_length":null,"is_nullable":true,"computed_formula":"","default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-2780","object_id":"column-2780","name":"finance_at","name_without_path":"finance_at","description":null,"is_pk":false,"is_identity":false,"data_type":"timestamp","data_length":null,"is_nullable":true,"computed_formula":"","default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null},{"id":"column-2781","object_id":"column-2781","name":"sla","name_without_path":"sla","description":null,"is_pk":false,"is_identity":false,"data_type":"decimal","data_length":"35, 4","is_nullable":true,"computed_formula":"","default_value":null,"path":null,"level":1,"item_type":"COLUMN","is_user_defined":false,"custom_fields":{},"linked_terms":[],"references":[],"linked_lookup":null}],"relations":[],"triggers":[],"unique_keys":[],"dependencies":{"uses":[{"object_name":"v_bi_sla_payments","object_name_show_schema":"v_bi_sla_payments","object_type":"VIEW","object_id":"v269","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[{"object_name":"bi_calendar_PT","object_name_show_schema":"clevernt-cleverads-production.bi_calendar_PT","object_type":"TABLE","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[]},{"object_name":"suppliers_payments_requests_statuses_logs","object_name_show_schema":"clevernt-cleverads-production.suppliers_payments_requests_statuses_logs","object_type":"TABLE","type":"NORMAL","object_user_defined":false,"user_defined":false,"children":[]}]}],"used_by":[]},"object_id":"v269","name":"v_bi_sla_payments","subtype":"VIEW","is_user_defined":false,"description":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n                <html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n                    <head>\r\n                        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><title>\r\n                        </title>\r\n                        <style type=\"text/css\">\r\n                            .cs2654AE3A{text-align:left;text-indent:0pt;margin:0pt 0pt 0pt 0pt}\r\n                            .cs416E45A4{color:#000000;background-color:transparent;font-family:'Segoe UI';font-size:10pt;font-weight:normal;font-style:normal;}\r\n                        </style>\r\n                    </head>\r\n                    <body>\r\n                        <p class=\"cs2654AE3A\"><span class=\"cs416E45A4\">VIEW</span></p></body>\r\n                </html>","summary":[{"field":"Documentation","value":{"_type":"link","name":"Cleverads","id":"d6"}},{"field":"Name","value":"v_bi_sla_payments"},{"field":"Type","value":"View"}],"script":"select `a`.`supplier_payment_request_id` AS `supplier_payment_request_id`,min(`a`.`date_end`) AS `payment_at`,min(`a`.`date_start`) AS `finance_at`,sum((time_to_sec(timediff(`a`.`h_fim_process`,`a`.`h_ini_process`)) / 3600)) AS `sla` from (select `d`.`supplier_payment_request_id` AS `supplier_payment_request_id`,`c`.`date` AS `date`,`c`.`work_day` AS `work_day`,`d2`.`status_at` AS `date_start`,`d`.`status_at` AS `date_end`,if(((cast(`d2`.`status_at` as date) <> `c`.`date`) or (`c`.`work_day` = 0)),concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`start_at`),if((convert(date_format(`d2`.`status_at`,'%Y-%m-%d %T') using utf8) <= concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`start_at`)),concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`start_at`),if((convert(date_format(`d2`.`status_at`,'%Y-%m-%d %T') using utf8) >= concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`end_at`)),concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`end_at`),convert(date_format(`d2`.`status_at`,'%Y-%m-%d %T') using utf8)))) AS `h_ini_process`,if(((cast(`d`.`status_at` as date) <> `c`.`date`) or (`c`.`work_day` = 0)),concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`end_at`),if((convert(date_format(`d`.`status_at`,'%Y-%m-%d %T') using utf8) <= concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`start_at`)),concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`start_at`),if((convert(date_format(`d`.`status_at`,'%Y-%m-%d %T') using utf8) >= concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`end_at`)),concat(convert(date_format(`c`.`date`,'%Y-%m-%d') using utf8),' ',`c`.`end_at`),convert(date_format(`d`.`status_at`,'%Y-%m-%d %T') using utf8)))) AS `h_fim_process` from ((`clevernt-cleverads-production`.`suppliers_payments_requests_statuses_logs` `d` join `clevernt-cleverads-production`.`suppliers_payments_requests_statuses_logs` `d2` on(((`d2`.`supplier_payment_request_id` = `d`.`supplier_payment_request_id`) and (`d2`.`new_status_id` = 3)))) join `clevernt-cleverads-production`.`bi_calendar_PT` `c` on((`c`.`date` between cast(`d2`.`status_at` as date) and cast(`d`.`status_at` as date)))) where ((`d`.`old_status_id` = 3) and (`d`.`new_status_id` in (2,7,12)) and (`d2`.`status_at` = (select max(`d3`.`status_at`) from `clevernt-cleverads-production`.`suppliers_payments_requests_statuses_logs` `d3` where ((`d3`.`supplier_payment_request_id` = `d2`.`supplier_payment_request_id`) and (`d3`.`new_status_id` = 3)))))) `a` group by `a`.`supplier_payment_request_id`","imported_at":"2024-06-28 17:00"};